var g=Object.defineProperty;var p=(n,t,s)=>t in n?g(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var a=(n,t,s)=>(p(n,typeof t!="symbol"?t+"":t,s),s);import{t as y,h as v,s as u,a as d}from"./vendor.b2ee980f.js";const x=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}};x();const w=2,L=n=>{if(!n||!n.length)return[];const t=o=>o==="null";return n.split("").filter(o=>o!==" ").join("").split(",").filter(o=>o!==","&&o!=="").map(o=>t(o)?null:o)};class m{constructor(t){a(this,"name");a(this,"children");this.name=t,this.children=[]}}const N=n=>{if(!n.length)throw new Error("Input is empty. Please enter the level order traversal");const t=n.shift();if(t===null)throw new Error("Not a valid level order traversal");const s=new m(t),o=[s];for(;n.length;){if(o.length===0)throw new Error("Not a valid level order traversal");const l=o.length*2;let r=o.shift();for(let c=0;c<l;c++){const e=n.shift(),i=e==null,h=new m(i?null:e);(r==null?void 0:r.children.length)===w&&(r=o.shift()),i||o.push(h),r==null||r.children.push(h)}}return s},f=n=>n&&n.length>4;document.querySelector("#updateBtn").addEventListener("click",n=>{n.preventDefault();try{const t=document.querySelector("#inputString").value,s=N(L(t)),o=document.querySelector("svg").clientWidth,l=document.querySelector("svg").clientHeight-100,r=y().size([o,l]),c=v(s);r(c),u("circle").remove(),u("line").remove(),u("text").remove(),document.querySelector("#errorText").textContent="",d("svg g.nodes").selectAll("circle.node").data(c.descendants()).enter().append("circle").classed("node",function(e){return e.data.name!==null}).classed("hidden",function(e){return e.data.name===null}).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("r",20),d("svg g.links").selectAll("line.link").data(c.links()).enter().append("line").classed("link",function(e){return e.target.data.name!==null}).classed("hidden",function(e){return e.target.data.name===null}).attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),d("svg g.labels").selectAll("text.label").data(c.descendants()).enter().append("text").classed("label",function(e){return!f(e.data.name)}).classed("longLabel",function(e){return f(e.data.name)}).attr("text-anchor","middle").attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).attr("dy","5px").text(function(e){const i=e.data.name;return f(i)?i.slice(0,3)+"...":i})}catch(t){document.querySelector("#errorText").textContent=t.message}});
